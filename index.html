<!DOCTYPE html>
<html>
<head>
    <title>ESP32 Robot Control</title>
    <script>
        var ws = new WebSocket("ws://192.168.4.1/ws"); // Connect to ESP32 WebSocket

        ws.onmessage = function(event) {
            var data = JSON.parse(event.data);
            document.getElementById("status").innerText = 
                "Direction: " + data.direction + ", Distance: " + data.distance.toFixed(2) + "m";
        };

        function sendCommand(command) {
            var data = JSON.stringify({ command: command });
            ws.send(data);
        }
    </script>
</head>
<body>
    <h2>ESP32 Robot Control</h2>
    <button onclick="sendCommand('FORWARD')">Forward</button>
    <button onclick="sendCommand('LEFT')">Left</button>
    <button onclick="sendCommand('RIGHT')">Right</button>
    <button onclick="sendCommand('BACKWARD')">Backward</button>
    <button onclick="sendCommand('STOP')">Stop</button>
    <h3 id="status">Status: Waiting for data...</h3>
</body>
</html>